{% extends "base.html" %}
{% load static %}

{% block title %}Tin tức{% endblock %}

{% block extra_head %}
<style>
  .news-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;margin:20px 0}
  .news-card{border:1px solid var(--line);border-radius:12px;background:#fff;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column}
  .news-card img{width:100%;height:180px;object-fit:cover}
  .news-body{padding:12px;display:flex;flex-direction:column;gap:6px}
  .news-body h3{margin:0;font-size:17px}
  .news-body time{font-size:12px;color:var(--muted)}
  .news-body p{margin:0;color:var(--text);font-size:14px}
</style>
{% endblock %}

{% block content %}
  <h1>Tin tức</h1>
  <div class="news-grid">
    {% for n in items %}
      <article class="news-card">
        {% if n.image %}
          <a href="{{ n.get_absolute_url }}"><img src="{{ n.image.url }}" alt="{{ n.title }}"></a>
        {% endif %}
        <div class="news-body">
          <h3><a href="{{ n.get_absolute_url }}">{{ n.title }}</a></h3>
          <time>{{ n.published_at|date:"d/m/Y H:i" }}</time>
          <p>{{ n.body|truncatewords:30 }}</p>
        </div>
      </article>
    {% empty %}
      <p>Chưa có tin tức nào.</p>
    {% endfor %}
  </div>
{% endblock %}
